{% import 'macros/_forms.html' as f %}

{% extends 'base.html' %}

{% block title %}Triager :: Edit {{ project.name }}{% endblock %}

{% block content %}
  <h1>Edit {{ project.name }}</h1>

  <form id="project-form-update" role="form" method="POST">
    {% include 'project/_form.html' %}

    {{ f.submit('Update') }}
  </form>
{% endblock %}

{% block js %}
  <script type="text/javascript">
    function display_datasource_fields() {
      $('.datasource-fields').hide()
      var ds_type = $('#datasource_type').val()
      $('#' + ds_type + '-fields').show()
    }

    $(function() {
      $('#datasource_type').change(function() {
        display_datasource_fields()
      })
      display_datasource_fields()
    })
  </script>
{% endblock %}